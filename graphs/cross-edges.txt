/**
 * Dato un grafo orientato G = (V, E), scrivere un algoritmo
 * che restituisca il numero degli archi trasversali nel grafo.
 */

cross_edges = 0;

dfs(graph) {
  for (node in graph.nodes) {
    node.predecessor = null;
    node.color = white;
    time = 0
  }

  for (node in graph.nodes) {
    if (node.color == white) {
      dfs_visit(node);
    }
  }
}

dfs_visit(node) {
  node.color = gray;
  node.d = time++;

  for (adj_node in node.adj) {
    if (adj_node.color == black && node.d > adj_node.d && node.f > adj_node.f) {
      cross_edges++
    } else if (adj_node.color == white) {
      adj_node.predecessor = node
      dfs_visit(adj_node)
    }
  }

  node.color = black;
  node.f = time + 1;
}